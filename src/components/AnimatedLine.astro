<svg
    id="animated-line"
    width="100%"
    height="2000"
    viewBox="0 0 500 2000"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    style="position:absolute; top:0; left:50%; transform:translateX(-50%); z-index:40;"
>
    <!-- La línea puede tener curvas o segmentos según tus secciones -->
    <path
        id="scroll-line"
        d="M250 0 C250 400, 250 800, 250 1200 C250 1600, 250 2000, 250 2000"
        stroke="#6A4C93"
        stroke-width="3"
        fill="none"></path>
</svg>

<script>
    import gsap from "gsap"
    import { ScrollTrigger } from "gsap/ScrollTrigger"
    gsap.registerPlugin(ScrollTrigger)

    const path = document.querySelector("#scroll-line") as SVGPathElement
    const length = path?.getTotalLength()

    path.style.strokeDasharray = length.toString()
    path.style.strokeDashoffset = length.toString()

    gsap.to(path, {
        strokeDashoffset: 0,
        scrollTrigger: {
            trigger: "#animated-line",
            start: "top top",
            end: "bottom bottom",
            scrub: true,
        },
    })
</script>
